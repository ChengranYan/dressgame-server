webpackJsonp([1],{"+3or":function(t,e){},"/ewc":function(t,e){},"5Khy":function(t,e){},EWwl:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("7+uW"),s=a("Dd8w"),i=a.n(s),r={render:function(){var t=this.$createElement,e=this._self._c||t;return e("ul",{staticClass:"list"},[e("router-link",{staticClass:"item",attrs:{to:"/male",tag:"li"}},[e("span",{staticClass:"gender"},[this._v("男生")])]),this._v(" "),e("router-link",{staticClass:"item",attrs:{to:"/female",tag:"li"}},[e("span",{staticClass:"gender"},[this._v("女生")])])],1)},staticRenderFns:[]};var o=a("VU/8")({name:"tab"},r,!1,function(t){a("+3or")},"data-v-a3247f4a",null).exports,c=a("NYxO"),l=a("GQaK"),d={data:function(){return{maleclothes:{head:{rows:[]}},femaleclothes:{head:{rows:[]}},testData:[],background_reg:/background_/,decorate_reg:/decoration_cloth_/,head_frame_reg:/head_frame_/,detailId:"",part:"head",inFrameStatus:!1,maleToken:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVhZTI5NjFhMjlhNzY5NTZlMWRlNGM3ZCIsInJvbGUiOiJzdHVkZW50IiwiaWF0IjoxNTI0Nzk5NDkxLCJleHAiOjE1MjczOTE0OTF9.XFVpeV8xOy47YSltWzs7asp4TEqY1vLDD9IW4T11-g4",femaleToken:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVhZTI5NzAyMjlhNzY5NTZlMWRlNGM3ZSIsInJvbGUiOiJzdHVkZW50IiwiaWF0IjoxNTI0Nzk5NTc5LCJleHAiOjE1MjczOTE1Nzl9.Ym7ZLN3iTEk21irBYc-8BVoMUBtfkcLnrPnWoEUK3Ac"}},watch:{$route:function(t,e){this.part=this.$route.params.part,this.changeGender(this.$route.params.gender)}},computed:i()({},Object(c.c)(["gender"]),{isMale:function(){return"male"===this.gender},isTest:function(){return"test"===this.part},detailUrl:function(){return"https://api-test.yangcong345.com/cosplay/handbook/"+this.part+"/"+this.detailId},token:function(){return"male"===this.gender?this.maleToken:this.femaleToken}}),mounted:function(){this.scroll=new l.a(".wrapper"),this.getDress("male"),this.getDress("female"),this.getTestData()},methods:i()({},Object(c.b)(["changeGender"]),{handleDressUp:function(t,e,a){var n=this;this.inFrameStatus&&(window.vm.COSPLAY_STAGE.exitAvatar(),this.inFrameStatus=!1),this.detailId=t,this.$http({method:"get",url:this.detailUrl,headers:{Authorization:this.token}}).then(function(t){var a=t.data;"decorate"===n.part||"background"===n.part?n.handleDecorateDressUp(e,a.resources):window.vm.COSPLAY_STAGE.setSlotDisplayByResources(a.resources)})},handleTestDressUp:function(t){window.vm.COSPLAY_STAGE.setSlotDisplayByResources(this.testData[t].resources)},handleDecorateDressUp:function(t,e){this.isBackground(t)?this.setBackground(e):this.isHeadFrame(t)?(this.inFrameStatus=!0,window.vm.COSPLAY_STAGE.entryAvatar(e.back,e.front)):this.isDecorateCloth(t)&&window.vm.COSPLAY_STAGE.setSlotDisplayByResources(e)},getDress:function(t){var e=this;this.$http({method:"get",url:"https://api-test.yangcong345.com/cosplay/handbook",headers:{Authorization:"male"===t?this.maleToken:this.femaleToken}}).then(function(a){"male"===t?e.maleclothes=a.data:e.femaleclothes=a.data})},setBackground:function(t){window.vm.document.body.style.backgroundImage="url("+t+")"},isBackground:function(t){return this.background_reg.test(t)},isDecorateCloth:function(t){return this.decorate_reg.test(t)},isHeadFrame:function(t){return this.head_frame_reg.test(t)},getTestData:function(){var t=this;this.$http({method:"get",url:"http://localhost:60000/cosplay/handbook/testcontent"}).then(function(e){console.log(e.data),t.testData=e.data.data})}})},h={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrapper"},[t.isTest?[a("ul",t._l(t.testData,function(e,n){return e.thumbnail?a("li",{key:n},[a("div",{staticClass:"img-con",on:{click:function(e){t.handleTestDressUp(n)}}},[a("img",{attrs:{src:e.thumbnail}})]),t._v(" "),a("p",[a("span",[t._v(t._s(e.name))])])]):t._e()}))]:t._e(),t._v(" "),!t.isTest&&t.isMale?[a("ul",t._l(t.maleclothes[t.part].rows,function(e){return e.thumbnail?a("li",{key:e.id},[a("div",{staticClass:"img-con",on:{click:function(a){t.handleDressUp(e.id,e.thumbnail,a)}}},[a("img",{attrs:{src:e.thumbnail,"data-id":e.id}})]),t._v(" "),a("p",[a("span",[t._v(t._s(e.name))])])]):t._e()}))]:t._e(),t._v(" "),t.isTest||t.isMale?t._e():[a("ul",t._l(t.femaleclothes[t.part].rows,function(e){return e.thumbnail?a("li",{key:e.id},[a("div",{staticClass:"img-con",on:{click:function(a){t.handleDressUp(e.id,e.thumbnail,a)}}},[a("img",{attrs:{src:e.thumbnail,"data-id":e.id}})]),t._v(" "),a("p",[t._v(t._s(e.name))])]):t._e()}))]],2)},staticRenderFns:[]};var u=a("VU/8")(d,h,!1,function(t){a("EWwl")},"data-v-4ae319a4",null).exports,m={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{staticClass:"head-bar-con"},[t._l(t.parts,function(e,n){return a("router-link",{key:n,staticClass:"head-bar",attrs:{to:e.to,tag:"li"}},[a("span",{staticClass:"part"},[t._v(t._s(e.name))])])}),t._v(" "),a("router-link",{key:t.test.name,staticClass:"head-bar",attrs:{to:t.test.to,tag:"li"}},[a("span",{staticClass:"part"},[t._v(t._s(t.test.name))])])],2)},staticRenderFns:[]};var p={name:"app",components:{Tab:o,Display:u,HeadBar:a("VU/8")({name:"tab",data:function(){return{tab1:"/design/male",parts:[{name:"头部",to:"head"},{name:"上衣",to:"body"},{name:"下装",to:"leg"},{name:"鞋子",to:"foot"},{name:"饰品",to:"decorate"}],test:{name:"test",to:"test"}}}},m,!1,function(t){a("aKzu")},"data-v-4f21d9db",null).exports},data:function(){return{vm:{}}},mounted:function(){this.bindEvents()},computed:i()({},Object(c.c)(["gender"]),{cosplayUri:function(){return"/static/index.html?gender="+this.gender}}),methods:{loaded:function(){this.vm=this.$refs.iframe.contentWindow,window.vm=this.vm},bindEvents:function(){var t=this;window.onresize=function(){t.vm.location.reload()}},handleInputFile:function(t){var e=new FormData;e.append("logo",t.target.files);for(var a=0;a<t.target.files.length;a++){var n=t.target.files[a];e.append("logo",n)}this.$http.post("http://localhost:6000/cosplay/handbook/upload",e).catch(function(t){console.log("error"+t)})}}},f={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("iframe",{ref:"iframe",staticClass:"iframe",attrs:{src:this.cosplayUri},on:{load:this.loaded}}),this._v(" "),e("Tab"),this._v(" "),e("HeadBar",{staticClass:"head-bar"}),this._v(" "),e("keep-alive",[e("router-view",{staticClass:"app-main"})],1)],1)},staticRenderFns:[]};var g=a("VU/8")(p,f,!1,function(t){a("5Khy")},"data-v-16f7656e",null).exports,v=a("mtWM"),_=a.n(v),k=a("/ocq");n.a.use(k.a);var b=new k.a({routes:[{path:"/",redirect:"/male/head"},{path:"/:gender",component:u,children:[{path:"",redirect:"head"},{path:":part",redirect:""}]}]});n.a.use(c.a);var w=new c.a.Store({state:{gender:"male"},mutations:{changeGender:function(t,e){t.gender=e}}}),T=a("cTzj"),y=a.n(T);a("/ewc"),a("wOs/"),a("v2ns");n.a.use(y.a,{preLoad:1.2,loading:"src/assets/imgs/loading.gif",attempt:1}),n.a.config.productionTip=!1,n.a.prototype.$http=_.a,new n.a({el:"#app",router:b,store:w,template:"<App/>",components:{App:g}})},aKzu:function(t,e){},v2ns:function(t,e){},"wOs/":function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.0d89bef42564f9522042.js.map